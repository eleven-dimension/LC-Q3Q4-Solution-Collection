rating: 2201  
from: contest 87 Q4

first thought: bitmask dp, but difficult to decide the order  
bitmask bfs: ez!  
solved after 10-min consideration  

bitmask dp: floyd + bitmask dp  
enumerate the last newly-visited node